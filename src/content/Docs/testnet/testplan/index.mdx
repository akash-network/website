---
categories: ["Testnet"]
tags: ["Testnet", "BME", "Testing", "Test Plan"]
title: "BME Testnet Test Plan"
linkTitle: "Test Plan"
description: "Comprehensive test plan for BME (Burn Mint Equilibrium) module testing"
weight: 2
---

## Overview

This test plan validates BME functionality through real user workflows on testnet. Tests are triggered by user actions (creating deployments, closing deployments, funding wallets) rather than direct message invocation. BME mechanics are verified by observing state changes after user actions complete.

## Prerequisites

- Healthy testnet-8 network running with BME module enabled
- Oracle module configured with price feeds
- Testnet faucet available for funding test wallets (https://faucet.dev.akash.pub — 500 AKT per request)
- Akash CLI (`akash`) configured for testnet
- `provider-services` binary for sending manifests — download from: https://github.com/akash-network/provider/releases
- CLI deployment guide: https://akash.network/docs/developers/deployment/cli/
- Access to query BME state (via CLI or API)
- Provider(s) running on testnet to accept deployments
- Ability to manipulate oracle prices for price movement scenarios (Akash Core team)
- Ability to stop/start oracle feeds (for oracle halt testing)

**Note:** All prerequisites are validated in Category 0 pre-flight checks.

## Key Metrics to Monitor

These should be queried before and after each test:

| Metric | Query Method | Description |
|--------|--------------|-------------|
| `OutstandingACT` | `akash query bme vault-state` | Total ACT supply (system liabilities) |
| `VaultAKT` | `akash query bme vault-state` | AKT held in BME module account |
| `RemintCredits` | `akash query bme vault-state` | Available AKT credits before new minting required |
| `TotalBurned` | `akash query bme vault-state` | Cumulative ACT burned |
| `TotalMinted` | `akash query bme vault-state` | Cumulative AKT minted (inflationary) |
| `collateral_ratio` | `akash query bme status` | Collateral Ratio (decimal, e.g., 0.99) |
| `status` | `akash query bme status` | Current status (mint_status_healthy/warning/halt_cr/halt_oracle) |
| User AKT Balance | `akash query bank balances <addr>` | User's AKT and ACT |
| Oracle Price | `akash query oracle prices \| head -n 15` | Current AKT/USD price |

---

## Test Categories

### [Category 0: Pre-Flight Health Checks](/docs/testnet/testplan/pre-flight)
Verify BME module and dependencies are healthy before testing. **Run these first!**
- Node connectivity
- BME module enabled
- Oracle health
- Vault state baseline
- Collateral ratio and mint status
- Test wallet setup
- Provider availability

### [Category 1: Deployment Creation](/docs/testnet/testplan/deployment-creation)
Test AKT → ACT conversion through deployment lifecycle.
- ACT minting and standard deployment
- Insufficient funds handling
- Minimum deposit testing
- Multiple deployments from single wallet

### [Category 2: Deployment Closure & Refunds](/docs/testnet/testplan/deployment-closure)
Test ACT → AKT conversion on deployment close.
- Price unchanged scenarios
- Price increase scenarios (deflationary)
- Price decrease scenarios (inflationary)
- Partial remint credit usage

### [Category 3: Provider Settlement](/docs/testnet/testplan/provider-settlement)
Verify providers receive ACT and can burn to AKT.
- Provider receives AKT from remint credits
- Price movement scenarios (rose/dropped)
- Inflationary path testing
- Multiple settlements and remint credit depletion

### [Category 4: Epoch-Based Processing](/docs/testnet/testplan/epoch-processing)
Test epoch-based mint/burn processing.
- Verify request queuing
- Multiple queued requests
- Queue behavior during circuit breaker

### [Category 5: Direct Message Operations](/docs/testnet/testplan/direct-messages)
Test direct mint/burn commands (MsgMintACT, MsgBurnACT, MsgBurnMint).
- Direct AKT → ACT conversion
- Direct ACT → AKT conversion
- Different recipient addresses
- Input validation
- Circuit breaker behavior
- Consecutive operations

### [Category 6: Circuit Breaker & Mint Status](/docs/testnet/testplan/circuit-breaker)
**⚠️ Requires Akash Core Team Member** - Oracle price manipulation needed.
- MintStatusHealthy
- MintStatusWarning
- MintStatusHaltCR (collateral ratio)
- MintStatusHaltOracle
- Existing deployments during halt
- Recovery scenarios
- State transitions

### [Category 7: Dynamic Epoch Timing](/docs/testnet/testplan/epoch-timing)
Test dynamic epoch timing adjustments based on system state.
- Normal epoch timing
- Epoch backoff during Warning state
- Epoch timing recovery

### [Category 8: Ledger Records & Observability](/docs/testnet/testplan/observability)
Verify BME ledger records and event emissions.
- Query ledger records by height
- Query ledger records by account
- Ledger record field verification
- Event emissions (MintACT, BurnACT, Settlement)

### [Category 9: Edge Cases & Error Handling](/docs/testnet/testplan/edge-cases)
Test boundary conditions and edge cases.
- Zero amount operations
- Dust amount operations
- Maximum amount operations
- Rapid sequential operations
- SDL with uakt pricing (known validation gap)

### [Category 10: End-to-End Scenarios](/docs/testnet/testplan/end-to-end)
Complete user journeys combining multiple operations.
- Full deployment lifecycle (happy path)
- Price volatility scenarios
- Circuit breaker stress testing
- Multi-user concurrent activity

---

## Summary Checklist

| Category | Tests | Priority |
|----------|-------|----------|
| Pre-Flight Health Checks | 0.1-0.10 | Critical (Run First) |
| Deployment Creation | 1.1-1.4 | Critical |
| Deployment Closure/Refunds | 2.1-2.4 | Critical |
| Provider Settlement | 3.1-3.4 | Critical |
| Epoch-Based Processing | 4.1-4.3 | High |
| Direct Message Operations | 5.1-5.16 | Critical |
| Circuit Breaker/Mint Status | 6.1-6.7 | ⚠️ Requires Akash Core Team |
| Dynamic Epoch Timing | 7.1-7.3 | Medium |
| Ledger Records/Observability | 8.1-8.6 | Medium |
| Edge Cases | 9.1-9.5 | High |
| End-to-End | 10.1-10.4 | Critical |

**Total: 66 tests across 11 categories**

---

## Akash Core Team Requirements

Several tests require Akash Core team coordination for oracle/price manipulation:

| Action | Tests Requiring |
|--------|-----------------|
| Adjust oracle price | 2.2, 2.3, 3.2, 3.3, 3.4, 6.2, 6.3, 7.2, 7.3, 10.2, 10.3 |
| Stop oracle updates | 6.4 |
| Trigger specific mint status | 4.3, 5.13, 5.14, 6.3, 6.4, 6.5, 6.6, 10.3 |

---

## Key Implementation Notes

1. **Remint Credits are active** - System tracks credits and uses them before minting new AKT
2. **Two-phase execution** - RequestBurnMint queues operations, executeBurnMint processes them
3. **Four mint statuses** - Healthy, Warning, HaltCR, HaltOracle
4. **Dynamic epoch timing** - Adjusts based on Collateralization Ratio
5. **Asymmetric circuit breaker** - AKT→ACT blocked during halt, ACT→AKT still works
6. **Provider settlement is two-step** - Provider receives ACT, then burns to AKT
7. **SDL pricing must use uact** - Using uakt bypasses BME (known validation gap)