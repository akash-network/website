---
categories: ["Testnet"]
tags: ["Testnet", "BME", "Testing", "Observability"]
title: "Event Emissions & Observability"
linkTitle: "Event Emissions"
description: "Verify BME event emissions during operations"
weight: 9
---

These tests verify that BME operations emit proper events that can be observed in transaction logs.

**Available BME query commands:**
- `akash query bme params`
- `akash query bme status`
- `akash query bme vault-state`

**Viewing Transaction Events:**
```bash
# Query transaction by hash to see all events
akash query tx <tx-hash> --output json | jq '.events'

# Filter for message events (includes BME actions)
akash query tx <tx-hash> --output json | jq '.events[] | select(.type == "message")'
```

---

### Test 8.1: Event Emission - MintACT

**Objective:** Verify events are emitted when minting ACT

**User Actions:**
1. Execute mint operation:
   ```bash
   akash tx bme mint-act 20000000uakt --from <wallet> -y
   ```
   Note the transaction hash from output.

2. Query transaction events:
   ```bash
   akash query tx <tx-hash> --output json | jq '.events[] | select(.type == "message")'
   ```

3. Look for BME mint event in the output

**Expected Results:**
- Event with `type: "message"` containing:
  - `action: "/akash.bme.v1.MsgMintACT"`
  - `sender: <user-address>`
  - `module: "bme"`

**Example Output:**
```json
{
  "type": "message",
  "attributes": [
    { "key": "action", "value": "/akash.bme.v1.MsgMintACT" },
    { "key": "sender", "value": "akash1..." },
    { "key": "module", "value": "bme" },
    { "key": "msg_index", "value": "0" }
  ]
}
```

**Proof to Submit:**
- Transaction hash
- Event output showing `action: "/akash.bme.v1.MsgMintACT"` and `module: "bme"`

---

### Test 8.2: Event Emission - BurnACT

**Objective:** Verify events are emitted when burning ACT

**User Actions:**
1. Ensure wallet has ACT balance (from previous minting)

2. Execute burn operation:
   ```bash
   akash tx bme burn-act 15000000uact --from <wallet> -y
   ```
   Note the transaction hash from output.

3. Query transaction events:
   ```bash
   akash query tx <tx-hash> --output json | jq '.events[] | select(.type == "message")'
   ```

4. Look for BME burn event in the output

**Expected Results:**
- Event with `type: "message"` containing:
  - `action: "/akash.bme.v1.MsgBurnACT"`
  - `sender: <user-address>`
  - `module: "bme"`

**Example Output:**
```json
{
  "type": "message",
  "attributes": [
    { "key": "action", "value": "/akash.bme.v1.MsgBurnACT" },
    { "key": "sender", "value": "akash1..." },
    { "key": "module", "value": "bme" },
    { "key": "msg_index", "value": "0" }
  ]
}
```

**Proof to Submit:**
- Transaction hash
- Event output showing `action: "/akash.bme.v1.MsgBurnACT"` and `module: "bme"`

---

### Test 8.3: Event Emission - Deployment Close

**Objective:** Verify deployment lifecycle events are emitted during close

**User Actions:**
1. Create a deployment (see Category 1 for full workflow):
   ```bash
   akash tx deployment create deploy.yml --deposit 50000000uact --from <wallet> -y
   # Complete lease creation...
   ```

2. Let deployment run briefly (~1-2 minutes)

3. Close deployment and capture transaction hash:
   ```bash
   akash tx deployment close --dseq <dseq> --from <wallet> -y
   ```
   Note the transaction hash.

4. Query close transaction events:
   ```bash
   akash query tx <tx-hash> --output json | jq '.events[] | select(.type | contains("deployment") or contains("lease"))'
   ```

**Expected Results:**
- `akash.deployment.v1.EventDeploymentClosed` event containing:
  - `id` with owner address and dseq
- `akash.deployment.v1.EventGroupClosed` event containing:
  - `id` with owner, dseq, and gseq

**Example Output:**
```json
{
  "type": "akash.deployment.v1.EventDeploymentClosed",
  "attributes": [
    { "key": "id", "value": "{\"owner\":\"akash1...\",\"dseq\":\"12345\"}" }
  ]
}
{
  "type": "akash.deployment.v1.EventGroupClosed",
  "attributes": [
    { "key": "id", "value": "{\"owner\":\"akash1...\",\"dseq\":\"12345\",\"gseq\":1}" }
  ]
}
```

**Proof to Submit:**
- Transaction hash for deployment close
- Event output showing `EventDeploymentClosed` and `EventGroupClosed` events

**⚠️ Important:** Close deployment when testing is complete.

---

## Summary

| Test | Event Type | Key Attributes |
|------|------------|----------------|
| 8.1 | `message` | `action: /akash.bme.v1.MsgMintACT`, `module: bme` |
| 8.2 | `message` | `action: /akash.bme.v1.MsgBurnACT`, `module: bme` |
| 8.3 | `EventDeploymentClosed`, `EventGroupClosed` | `id` with owner/dseq |