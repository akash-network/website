---
import { Image } from "astro:assets";
import { ArrowUpCircle } from "lucide-react";
import ButtonLink from "../ui/button-link.astro";
const { title, description, buttons, image, type } = Astro.props;
---

<div
  class="flex w-full flex-col items-start gap-x-5 py-10 md:justify-between lg:flex-row lg:gap-x-20 lg:py-20"
>
  <div class="w-full flex-1 flex-shrink-0">
    <Image
      src={image}
      alt={`banner image for the post`}
      width={1200}
      height={1200}
      format="webp"
      class="aspect-video rounded-lg object-cover"
      loading="lazy"
    />
  </div>

  <div class="mt-10 w-full flex-1 px-2 md:px-0 lg:mt-4">
    <h3 class="text-xl font-bold md:text-2xl">{title}</h3>
    <p class="mt-5 text-xs md:mt-6 md:text-lg">{description}</p>
    <div class="mt-5 flex flex-col gap-3 md:mt-6 md:flex-row">
      {
        buttons.map((button: any) =>
          button.icon === "link" ? (
            <ButtonLink
              variant="secondary"
              size="xl"
              link={button.link}
              target={button.link.includes("http") ? "_blank" : "_self"}
            >
              {button.label}

              <ArrowUpCircle className="h-4 w-4 rotate-45" />
            </ButtonLink>
          ) : (
            <ButtonLink
              variant="secondary"
              size="xl"
              link={button.link}
              download={`${title?.toLowerCase()?.replace(/\s+/g, "-")}.zip`}
            >
              {button.label}
              <svg
                width="10"
                height="11"
                viewBox="0 0 10 11"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 text-foreground md:h-5 md:w-5"
              >
                <path
                  d="M2.5 9.20508L7.5 9.20508"
                  stroke="currentColor"
                  strokeWidth="0.5"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
                <path
                  d="M4.9974 2.53711V7.53711M4.9974 7.53711L6.45573 6.07878M4.9974 7.53711L3.53906 6.07878"
                  stroke="currentColor"
                  strokeWidth="0.5"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </svg>
            </ButtonLink>
          )
        )
      }
    </div>
  </div>
</div>
