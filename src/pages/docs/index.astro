---
import DocsLayout from "@/layouts/docs-layout.astro";
import { getCollection, getEntry } from "astro:content";

import MobileNav from "@/components/docs/mobile-sidebar";
import AlgoliaSearch from "@/components/docs/algolia-search";
import { generateDocsNav } from "@/lib/docs/generate-nav/docs-nav";
import FeaturedCard from "@/components/docs/featured-card.astro";
import SectionCard from "@/components/docs/section-card.astro";

const pathname = new URL(Astro.request.url).pathname;

const doc = await getEntry("Docs", "index");
const docsData = await getCollection("Docs");
const docs = generateDocsNav(docsData);

// Icons as SVG strings
const rocketIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 16.5c-1.5 1.25-2 5-2 5s3.75-.5 5-2c.545-.545.93-1.19 1.17-1.87"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>`;

const codeIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>`;

const gitIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>`;

const serverIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="8" x="2" y="2" rx="2" ry="2"/><rect width="20" height="8" x="2" y="14" rx="2" ry="2"/><line x1="6" x2="6.01" y1="6" y2="6"/><line x1="6" x2="6.01" y1="18" y2="18"/></svg>`;

const toolIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>`;

const activityIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>`;

const boxIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.29 7 12 12 20.71 7"/><line x1="12" x2="12" y1="22" y2="12"/></svg>`;

const apiIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M9 9h.01"/><path d="M15 9h.01"/><path d="M9 15h.01"/><path d="M15 15h.01"/></svg>`;

const databaseIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>`;

const nodeIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><line x1="3" x2="9" y1="12" y2="12"/><line x1="15" x2="21" y1="12" y2="12"/><line x1="12" x2="12" y1="3" y2="9"/><line x1="12" x2="12" y1="15" y2="21"/></svg>`;

const shieldIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>`;

const upgradeIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/></svg>`;

const bookIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>`;

const usersIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>`;
---

<DocsLayout
  title={`${doc.data.title} | Akash Network Documentation - Your Guide to Decentralized Cloud`}
  description="Access comprehensive documentation to guide you through using Akash Network. Find detailed instructions, FAQs, and resources for a seamless experience."
  image="/meta-images/docs.png"
>
  <div
    class="sticky top-0 z-10 -mt-4 mb-10 h-[130px] bg-background pt-4 md:hidden"
  >
    <div>
      <AlgoliaSearch client:only />
    </div>

    <div class="my-4 border-b"></div>

    <div class="">
      <div class="flex items-center gap-x-3">
        <MobileNav
          client:load
          catName={"Akash Documentation"}
          docsNav={docs}
          pathname={pathname}
        />
      </div>
    </div>
  </div>

  <!-- Header -->
  <div class="flex flex-col items-start">
    <div
      class="flex h-[39px] w-[39px] items-center justify-center rounded-lg border bg-background2 md:h-[78px] md:w-[78px]"
    >
      <svg
        width="49"
        height="42"
        viewBox="0 0 49 42"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M32.6461 28L40.6323 41.9964H24.5002L16.4297 28H32.6461Z"
          fill="url(#paint0_linear_2233_35621)"></path>
        <path
          d="M40.628 41.9977L48.6852 28.0014L32.5575 0.00195312H16.4297L40.628 41.9977Z"
          fill="#FF414C"></path>
        <path
          d="M8.36851 13.9912H24.4963L8.37522 41.9907L0.304688 27.9943L8.36851 13.9912Z"
          fill="#FF414C"></path>
        <defs>
          <linearGradient
            id="paint0_linear_2233_35621"
            x1="24.1078"
            y1="31.4804"
            x2="40.5695"
            y2="42.0771"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#FF414C"></stop>
            <stop offset="1" stop-color="#FF414C" stop-opacity="0"></stop>
          </linearGradient>
        </defs>
      </svg>
    </div>
    <h1 class="mt-6 text-3xl md:mt-10 md:text-4xl lg:text-5xl">
      {doc.data.title}
    </h1>
    <p class="mt-6 text-base md:text-lg">{doc.data.description}</p>
  </div>

  <!-- Getting Started Section with Featured Cards -->
  <div class="mt-12">
    <h2 class="mb-6 text-2xl font-bold text-foreground md:text-3xl">
      Getting Started
    </h2>
    <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
      <FeaturedCard
        image="/images/docs/home/what-is-akash.png"
        title="What is Akash Network?"
        description="Learn about decentralized cloud computing"
        link="/docs/getting-started/what-is-akash"
      />
      <FeaturedCard
        image="/images/docs/home/core-concepts.png"
        title="Core Concepts"
        description="Understand how Akash works"
        link="/docs/getting-started/core-concepts"
      />
      <FeaturedCard
        image="/images/docs/home/quick-start.png"
        title="Quick Start"
        description="Deploy your first app in under 10 minutes"
        link="/docs/getting-started/quick-start"
      />
    </div>
  </div>

  <!-- Developers Section -->
  <div class="mt-12">
    <h2 class="mb-4 text-2xl font-bold text-foreground md:text-3xl">
      Developers
    </h2>
    <p class="mb-6 text-para">
      Deploy applications and build on Akash Network
    </p>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
      <SectionCard
        icon={rocketIcon}
        title="Getting Started"
        description="Choose your deployment method and get started"
        link="/docs/developers/getting-started"
      />
      <SectionCard
        icon={codeIcon}
        title="Deployment"
        description="Console, CLI, SDKs, and AuthZ"
        link="/docs/developers/deployment"
      />
      <SectionCard
        icon={gitIcon}
        title="Contributing"
        description="Contribute to Akash codebase and documentation"
        link="/docs/developers/contributing"
      />
    </div>
  </div>

  <!-- Providers Section -->
  <div class="mt-12">
    <h2 class="mb-4 text-2xl font-bold text-foreground md:text-3xl">
      Providers
    </h2>
    <p class="mb-6 text-para">Run compute resources on Akash Network</p>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
      <SectionCard
        icon={rocketIcon}
        title="Getting Started"
        description="Should you run a provider? Hardware requirements and cost analysis"
        link="/docs/providers/getting-started"
      />
      <SectionCard
        icon={toolIcon}
        title="Setup & Installation"
        description="Provider Playbook, Kubespray, and Provider Console"
        link="/docs/providers/setup-and-installation"
      />
      <SectionCard
        icon={activityIcon}
        title="Operations"
        description="Lease management, monitoring, maintenance, and provider verification"
        link="/docs/providers/operations"
      />
    </div>
  </div>

  <!-- API Documentation Section -->
  <div class="mt-12">
    <h2 class="mb-4 text-2xl font-bold text-foreground md:text-3xl">
      API Documentation
    </h2>
    <p class="mb-6 text-para">
      Build on Akash with SDKs, APIs, and architectural insights
    </p>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
      <SectionCard
        icon={rocketIcon}
        title="Getting Started"
        description="Choose your integration method"
        link="/docs/api-documentation/getting-started"
      />
      <SectionCard
        icon={apiIcon}
        title="SDK"
        description="Official Go and JavaScript/TypeScript SDKs"
        link="/docs/api-documentation/sdk"
      />
      <SectionCard
        icon={databaseIcon}
        title="API"
        description="Console Managed Wallet API"
        link="/docs/api-documentation/console-api"
      />
      <SectionCard
        icon={boxIcon}
        title="Provider Architecture"
        description="Provider service components"
        link="/docs/providers/architecture"
      />
      <SectionCard
        icon={nodeIcon}
        title="Node Architecture"
        description="Blockchain node architecture and APIs"
        link="/docs/node-operators/architecture"
      />
    </div>
  </div>

  <!-- Node Operators Section -->
  <div class="mt-12">
    <h2 class="mb-4 text-2xl font-bold text-foreground md:text-3xl">
      Node Operators
    </h2>
    <p class="mb-6 text-para">Run blockchain nodes and validators</p>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
      <SectionCard
        icon={rocketIcon}
        title="Getting Started"
        description="Choose between full node and validator"
        link="/docs/node-operators/getting-started"
      />
      <SectionCard
        icon={serverIcon}
        title="Node Build"
        description="CLI Build, Omnibus, and Helm Chart"
        link="/docs/node-operators/node-build"
      />
      <SectionCard
        icon={shieldIcon}
        title="Validators"
        description="Running validators, Omnibus, and TMKMS"
        link="/docs/node-operators/validators"
      />
      <SectionCard
        icon={upgradeIcon}
        title="Network Upgrades"
        description="Mainnet 15 upgrade guide"
        link="/docs/node-operators/network-upgrades"
      />
    </div>
  </div>

  <!-- Learn Section -->
  <div class="mt-12 mb-12">
    <h2 class="mb-4 text-2xl font-bold text-foreground md:text-3xl">Learn</h2>
    <p class="mb-6 text-para">Deep dive into Akash concepts and resources</p>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
      <SectionCard
        icon={bookIcon}
        title="Core Concepts"
        description="Detailed guides for deployments, storage, GPUs, and more"
        link="/docs/learn/core-concepts"
      />
      <SectionCard
        icon={usersIcon}
        title="Community Resources"
        description="Discord, GitHub, blog, and support channels"
        link="/docs/learn/community-resources"
      />
    </div>
  </div>

  <!-- Need Help Section -->
  <div class="mt-12 mb-16 rounded-2xl border bg-background2 p-8">
    <h2 class="mb-4 text-2xl font-bold text-foreground">Need Help?</h2>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      <a
        href="https://discord.akash.network"
        target="_blank"
        class="flex items-center gap-3 text-primary hover:underline"
      >
        <svg
          class="h-5 w-5"
          fill="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"
          ></path>
        </svg>
        <span class="font-medium">Discord - Get help from the community</span>
      </a>
      <a
        href="https://github.com/akash-network/support"
        target="_blank"
        class="flex items-center gap-3 text-primary hover:underline"
      >
        <svg
          class="h-5 w-5"
          fill="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
          ></path>
        </svg>
        <span class="font-medium">GitHub - Report issues and get support</span>
      </a>
    </div>
  </div>
</DocsLayout>

